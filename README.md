# Репозиторий с домашками "Курс по GO" от Avito

`Кадетов Григорий Евгеньевич`

---

## Запуск

Запуск приложения возможен следущей командой:

`go run "/cmd/service_courier/service_courier.go"`

Также через командную строку возможно указать порт запуска сервера через флаг `--port` (PORT в `.env` будет игнорироваться:

`go run "/cmd/service_courier/service_courier.go" --port 3000`

## Окружение

Для работы приложения необходим файл в корне проекта `.env`, пример его составления есть в репозитории, файл `.env.example`.

## API

Сервис реализует CRUD-интерфейс для сущности “курьер”.

### GET /courier/{id}
Получить данные о конкретном курьере.

**Пример запроса:**
```
GET /courier/1
```

**Пример ответа:**
```json
{
  "id": 1,
  "name": "Антон",
  "phone": "+37444111222",
  "status": "available"
}
```

**Коды ответа:**
| Код | Описание |
|------|-----------|
| 200 | Курьер найден |
| 400 | Невалидный ID |
| 404 | Курьер не найден |

---

### GET /couriers
Получить список всех курьеров.

**Пример запроса:**
```
GET /couriers
```

**Пример ответа:**
```json
[
  {
    "id": 1,
    "name": "Антон",
    "phone": "+37444111222",
    "status": "available"
  },
  {
    "id": 8,
    "name": "Миша",
    "phone": "+37444111223",
    "status": "available"
  }
]
```

**Коды ответа:**
| Код | Описание |
|------|-----------|
| 200 | Список успешно возвращён |

---

### POST /courier
Создание нового курьера.

**Пример тела запроса:**
```json
{
  "name": "Антон",
  "phone": "+37444111222",
  "status": "available"
}
```

**Коды ответа:**
| Код | Описание |
|------|-----------|
| 201 | Курьер успешно создан |
| 400 | Отсутствуют обязательные поля или телефон невалидный |
| 409 | Курьер с таким телефоном уже существует |

---

### PUT /courier
Обновление данных о курьере.  
Поля, которые не пришли, не удаляються.

**Пример тела запроса:**
```json
{
  "id": 1,
  "name": "Антон Иванов",
  "phone": "+37444111222",
  "status": "paused"
}
```

**Коды ответа:**
| Код | Описание |
|------|-----------|
| 200 | Успешно обновлено |
| 400 | Ошибка валидации или отсутствует ID |
| 404 | Курьер не найден |
| 409 | Курьер с таким телефоном уже существует |

---
